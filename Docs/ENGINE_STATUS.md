# Состояние движка LEN — краткая документация

## Обзор
LEN — экспериментальный игровой движок на C++ с минимальной подсистемой рендеринга и обработки ввода. Проект содержит основу для работы с мешами, шейдерами, простую компонентную модель и демонстрационные объекты.

## Текущая функциональность (реализовано)
- Рендеринг:
  - Создание шейдерных программ через GraphicsAPI (например, вызовы вида CreateShaderProgram).
  - Поддержка простого вершинного формата (позиция + цвет).
  - Индексированные меши: классы для хранения вершин и индексов, привязка VertexLayout.
  - Материалы, которые хранят шейдерную программу и используются MeshComponent для отрисовки.
- Сцена и объекты:
  - GameObject с трансформацией и возможностью добавления компонентов.
  - Простейшая компонентная система: MeshComponent привязывается к объекту и отрисовывает меш.
- Ввод:
  - InputManager с возможностью опроса клавиш (IsKeyPressed).
  - Тестовый объект умеет реагировать на W/A/S/D и стрелки для перемещения.
- Интеграция:
  - GLFW используется для создания окна и контекста OpenGL.
  - Синглтон-объект Engine для централизованного доступа к подсистемам (графика, ввод и т. п.).

## Ключевые места реализации
- `App/Source/TestObject.cpp` — демонстрационный объект; создаёт шейдеры (вершинный и фрагментный), материал, меш (вершины: позиция(3) + цвет(3)) и добавляет MeshComponent.
  - Вершина: 6 float (3 позиции + 3 цвета).
  - Шейдер фрагмента использует переданный из вершин цвета как vec4(vColor, 1.0), чтобы обойти отсутствие поддержки vec4-uniform в текущих материалах.
  - VertexLayout задаёт элементы: location 0 — позиция, location 1 — цвет; stride = sizeof(float) * 6.

## Ограничения и известные пробелы (TODO)
- Нет менеджера ресурсов: шейдеры, текстуры и меши не кэшируются централизованно.
- Отсутствует поддержка UV, нормалей, освещения и продвинутых материалов (uniform-параметры, текстуры).
- Компонентная система упрощена: нет управления жизненным циклом компонентов и сцены в целом.
- Нет физики, аудио, сетевой подсистемы и редактора уровней.
- Ограниченная обработка ошибок при компиляции шейдеров и создании GPU-ресурсов (следует логировать и возвращать диагностические сообщения).

## Рекомендации для развития (приоритезация)
1. Реализовать менеджер ресурсов с кэшированием и учётом владения (шэйдеры, текстуры, меши).
2. Расширить формат вершин (атрибуты UV, нормали, кастомные атрибуты) и обновить VertexLayout для гибкости.
3. Ввести систему материалов с поддержкой uniform-параметров и текстур.
4. Добавить базовую систему логирования и улучшить обработку ошибок при компиляции шейдеров.
5. Написать unit-тесты для критичных подсистем (шейдер-компиляция, загрузка мешей, VertexLayout).

## Сборка и запуск (кратко)
- Ориентировочно: Windows + CLion (CMake). Проект использует CMake; зависимости — GLFW и OpenGL.
- Открыть проект в IDE, дать CMake сконфигурироваться и собрать целевой исполняемый файл (см. CMakeLists.txt в корне и App/).

## Краткая карта соответствия требований и статуса
- Документация текущего состояния — Done.
- Описание реализации в `App/Source/TestObject.cpp` — Done (см. раздел "Ключевые места реализации").
- Список ограничений и рекомендации — Done.

---
Если нужно, могу:
- Добавить в документ ссылки на точные строки в `TestObject.cpp` или другие файлы.
- Перевести документ на англ. язык и добавить в README ссылку на него.
- Автоматически вставить в README краткую ссылку на `Docs/ENGINE_STATUS.md`.


